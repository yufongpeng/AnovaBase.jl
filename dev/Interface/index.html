<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interface · AnovaBase</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AnovaBase</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">AnovaBase.jl Documentation</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../Examples_GLM/">AnovaGLM</a></li><li><a class="tocitem" href="../Examples_MixedModels/">AnovaMixedModels</a></li><li><a class="tocitem" href="../Examples_FixedEffectModels/">AnovaFixedEffectModels</a></li></ul></li><li><span class="tocitem">Interfacing AnovaBase.jl</span><ul><li class="is-active"><a class="tocitem" href>Interface</a><ul class="internal"><li><a class="tocitem" href="#[anova](./AnovaBase.md#AnovaBase.anova-Tuple{Type{:GoodnessOfFit},%20AnovaModel})"><span>anova</span></a></li><li><a class="tocitem" href="#[predictors](./AnovaBase.md#AnovaBase.predictors-Tuple{RegressionModel})"><span>predictors</span></a></li><li><a class="tocitem" href="#AnovaModels"><span>AnovaModels</span></a></li><li><a class="tocitem" href="#[anovatable](./AnovaBase.md#AnovaBase.anovatable-Tuple{AnovaResult{:FullModel}})"><span>anovatable</span></a></li><li><a class="tocitem" href="#[nestedmodels](./AnovaBase.md#AnovaBase.nestedmodels-Tuple{RegressionModel})"><span>nestedmodels</span></a></li><li><a class="tocitem" href="#Other-function"><span>Other function</span></a></li></ul></li></ul></li><li><span class="tocitem">Algorithm</span><ul><li><a class="tocitem" href="../Algorithm_AnovaGLM/">AnovaGLM</a></li><li><a class="tocitem" href="../Algorithm_AnovaMixedModels/">AnovaMixedModels</a></li><li><a class="tocitem" href="../Algorithm_AnovaFixedEffectModels/">AnovaFixedEffectModels</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../AnovaBase/">AnovaBase.jl</a></li><li><a class="tocitem" href="../AnovaGLM/">AnovaGLM.jl</a></li><li><a class="tocitem" href="../AnovaMixedModels/">AnovaMixedModels.jl</a></li><li><a class="tocitem" href="../AnovaFixedEffectModels/">AnovaFixedEffectModels.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Interfacing AnovaBase.jl</a></li><li class="is-active"><a href>Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/yufongpeng/AnovaBase.jl/blob/main/docs/src/Interface.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Interface"><a class="docs-heading-anchor" href="#Interface">Interface</a><a id="Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Interface" title="Permalink"></a></h1><p>Given model types <code>SomeModel</code> and <code>OtherModel</code>, the following functions have to be defined or used.</p><h2 id="[anova](./AnovaBase.md#AnovaBase.anova-Tuple{Type{:GoodnessOfFit},%20AnovaModel})"><a class="docs-heading-anchor" href="#[anova](./AnovaBase.md#AnovaBase.anova-Tuple{Type{:GoodnessOfFit},%20AnovaModel})"><a href="../AnovaBase/#AnovaBase.anova-Tuple{Type{&lt;:GoodnessOfFit},%20AnovaModel}">anova</a></a><a id="[anova](./AnovaBase.md#AnovaBase.anova-Tuple{Type{:GoodnessOfFit},%20AnovaModel})-1"></a><a class="docs-heading-anchor-permalink" href="#[anova](./AnovaBase.md#AnovaBase.anova-Tuple{Type{:GoodnessOfFit},%20AnovaModel})" title="Permalink"></a></h2><p><code>anova</code> can be overloaded in the following arguments signature.</p><ol><li><code>anova(::SomeModel; test, type, kwargs...)</code> </li><li><code>anova(::GoodnessOfFit, ::SomeModel; type, kwargs...)</code></li><li><code>anova(::Vararg{SomeModel}; test, kwargs...)</code></li><li><code>anova(::GoodnessOfFit, ::Vararg{SomeModel}; kwargs...)</code></li></ol><p>Other arguments signatures are acceptable, but there will be <code>Type piracy</code> warnings.</p><p>Models should be wrapped in the following types before storing in the returned <code>AnovaResult</code>.</p><table><tr><th style="text-align: center">Model</th><th style="text-align: center">Wrapper</th></tr><tr><td style="text-align: center">Single model</td><td style="text-align: center"><code>FullModel</code></td></tr><tr><td style="text-align: center">Nested models</td><td style="text-align: center"><code>NestedModels</code></td></tr><tr><td style="text-align: center">Nested models with different types</td><td style="text-align: center"><code>MixedAovModels</code></td></tr></table><p>It is recommended that <code>anova</code> additionally dispatched on wrapper types and the main algorithm is implemented in it.</p><h2 id="[predictors](./AnovaBase.md#AnovaBase.predictors-Tuple{RegressionModel})"><a class="docs-heading-anchor" href="#[predictors](./AnovaBase.md#AnovaBase.predictors-Tuple{RegressionModel})"><a href="../AnovaBase/#AnovaBase.predictors-Tuple{RegressionModel}">predictors</a></a><a id="[predictors](./AnovaBase.md#AnovaBase.predictors-Tuple{RegressionModel})-1"></a><a class="docs-heading-anchor-permalink" href="#[predictors](./AnovaBase.md#AnovaBase.predictors-Tuple{RegressionModel})" title="Permalink"></a></h2><p>This function returns a tuple of terms which can be used in ANOVA (some terms may not be used because of ANOVA type or model itself).</p><p>There is a default method for <code>RegressionModel</code>, i.e., <code>formula(model).rhs.terms</code>. If the formula for <code>SomeModel</code> has special structure like <code>MixedModel</code>, this function should be overloaded. </p><h2 id="AnovaModels"><a class="docs-heading-anchor" href="#AnovaModels">AnovaModels</a><a id="AnovaModels-1"></a><a class="docs-heading-anchor-permalink" href="#AnovaModels" title="Permalink"></a></h2><h3 id="[NestedModels](./AnovaBase.md#AnovaBase.NestedModels)"><a class="docs-heading-anchor" href="#[NestedModels](./AnovaBase.md#AnovaBase.NestedModels)"><a href="../AnovaBase/#AnovaBase.NestedModels">NestedModels</a></a><a id="[NestedModels](./AnovaBase.md#AnovaBase.NestedModels)-1"></a><a class="docs-heading-anchor-permalink" href="#[NestedModels](./AnovaBase.md#AnovaBase.NestedModels)" title="Permalink"></a></h3><p>Wrap nested models in the following way</p><ol><li><code>NestedModels{SomeModel}((model1, model2, ...))</code></li><li><code>NestedModels{SomeModel}(model1, model2, ...)</code></li></ol><h3 id="[MixedAovModels](./AnovaBase.md#AnovaBase.MixedAovModels)"><a class="docs-heading-anchor" href="#[MixedAovModels](./AnovaBase.md#AnovaBase.MixedAovModels)"><a href="../AnovaBase/#AnovaBase.MixedAovModels">MixedAovModels</a></a><a id="[MixedAovModels](./AnovaBase.md#AnovaBase.MixedAovModels)-1"></a><a class="docs-heading-anchor-permalink" href="#[MixedAovModels](./AnovaBase.md#AnovaBase.MixedAovModels)" title="Permalink"></a></h3><p>This is for comparing models with different types.</p><ol><li><code>MixedAovModels{Union{SomeModel, OtherModel}}((model1, model2, ...))</code></li><li><code>MixedAovModels{Union{SomeModel, OtherModel}}(model1, model2, ...)</code></li></ol><p>Both <code>NestedModels</code> and <code>MixedAovModels</code> do not check if the order is correct, so user should be careful to put simpler models former and more complex models later. ANOVA can be computed along with some basic statistics. See <a href="../AnovaBase/#AnovaBase.ftest_nested"><code>ftest_nested</code></a> and <a href="../AnovaBase/#AnovaBase.lrt_nested"><code>lrt_nested</code></a>.</p><h3 id="[FullModel](./AnovaBase.md#AnovaBase.FullModel)"><a class="docs-heading-anchor" href="#[FullModel](./AnovaBase.md#AnovaBase.FullModel)"><a href="../AnovaBase/#AnovaBase.FullModel">FullModel</a></a><a id="[FullModel](./AnovaBase.md#AnovaBase.FullModel)-1"></a><a class="docs-heading-anchor-permalink" href="#[FullModel](./AnovaBase.md#AnovaBase.FullModel)" title="Permalink"></a></h3><p><code>FullModel</code> wraps the model along with the index of predictors(<code>pred_id</code>) that is actually used in ANOVA and ANOVA type.</p><p><code>AnovaBase</code> provides a method which automatically determines <code>pred_id</code> based on ANOVA type, whether empty model is allowed, and whether intercept is tested. See <a href="../AnovaBase/#AnovaBase.FullModel"><code>FullModel</code></a>.</p><p>To customize <code>FullModel</code>, there are many helper functions for manipulating terms. See <a href="../AnovaBase/#Developer-utility">Developer utility</a></p><h2 id="[anovatable](./AnovaBase.md#AnovaBase.anovatable-Tuple{AnovaResult{:FullModel}})"><a class="docs-heading-anchor" href="#[anovatable](./AnovaBase.md#AnovaBase.anovatable-Tuple{AnovaResult{:FullModel}})"><a href="../AnovaBase/#AnovaBase.anovatable-Tuple{AnovaResult{&lt;:FullModel}}">anovatable</a></a><a id="[anovatable](./AnovaBase.md#AnovaBase.anovatable-Tuple{AnovaResult{:FullModel}})-1"></a><a class="docs-heading-anchor-permalink" href="#[anovatable](./AnovaBase.md#AnovaBase.anovatable-Tuple{AnovaResult{:FullModel}})" title="Permalink"></a></h2><p>This function returns a <code>AnovaTable</code> for showing <code>AnovaResult</code>. For <code>NestedModels</code> and <code>MixedAovModels</code>, <code>AnovaBase</code> provides a default interface. When dealing with <code>FullModel</code> or customizing methods on <code>SomeModel</code>, the following methods should be defined.</p><ol><li><code>anovatable(::AnovaResult{&lt;: FullModel{SomeModel}}; rownames)</code></li><li><code>anovatable(::AnovaResult{&lt;: NestedModels{SomeModel}}; rownames)</code></li><li><code>anovatable(::AnovaResult{&lt;: MixedAovModels{SomeModel}}; rownames)</code></li></ol><p>See <a href="../AnovaBase/#AnovaBase.AnovaTable"><code>AnovaTable</code></a> for the argument signature.</p><h2 id="[nestedmodels](./AnovaBase.md#AnovaBase.nestedmodels-Tuple{RegressionModel})"><a class="docs-heading-anchor" href="#[nestedmodels](./AnovaBase.md#AnovaBase.nestedmodels-Tuple{RegressionModel})"><a href="../AnovaBase/#AnovaBase.nestedmodels-Tuple{RegressionModel}">nestedmodels</a></a><a id="[nestedmodels](./AnovaBase.md#AnovaBase.nestedmodels-Tuple{RegressionModel})-1"></a><a class="docs-heading-anchor-permalink" href="#[nestedmodels](./AnovaBase.md#AnovaBase.nestedmodels-Tuple{RegressionModel})" title="Permalink"></a></h2><p>This function is not essential for ANOVA; it is just for convenience to create nested models(<code>NestedModels</code>). It should be defined as follow</p><ol><li><code>nestedmodels(SomeModel, ::FormulaTerm, data; kwargs)</code></li><li><code>nestedmodels(::SomeModel; kwargs)</code></li></ol><p><code>AnovaBase</code> provides a lot of functions to work on formula, terms and contrasts. See <a href="../AnovaBase/#Developer-utility">Developer utility</a></p><h2 id="Other-function"><a class="docs-heading-anchor" href="#Other-function">Other function</a><a id="Other-function-1"></a><a class="docs-heading-anchor-permalink" href="#Other-function" title="Permalink"></a></h2><ul><li><a href="../AnovaBase/#AnovaBase.dof_residual-Tuple{AnovaResult}"><code>dof_residual</code></a> applies <code>dof_residual</code> to all models by default. If <code>dof_residual(::SomeModel)</code> is not valid for ANOVA, customize <code>dof_residual(::AnovaResult{&lt;: AnovaModel{SomeModel}})</code> alternatively.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Examples_FixedEffectModels/">« AnovaFixedEffectModels</a><a class="docs-footer-nextpage" href="../Algorithm_AnovaGLM/">AnovaGLM »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 4 May 2023 09:07">Thursday 4 May 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
